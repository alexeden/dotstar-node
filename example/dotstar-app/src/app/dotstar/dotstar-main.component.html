<dotstar-socket-notifier></dotstar-socket-notifier>

<div class="column gap-10 p-20">
  <dotstar-sampler-form></dotstar-sampler-form>
  <mat-card>
    <dotstar-visualizer ></dotstar-visualizer>
  </mat-card>
  <dotstar-config-form></dotstar-config-form>
</div>

<dotstar-control-bar>
  <div class="row gap-10">
    <button
      mat-fab
      class="no-shadow"
      color="primary"
      *ngIf="bufferService.running | async"
      (click)="bufferService.pause()">
      <mat-icon>pause</mat-icon>
    </button>
    <button
      mat-fab
      class="no-shadow"
      color="accent"
      *ngIf="!(bufferService.running | async)"
      (click)="bufferService.resume()">
      <mat-icon>play_arrow</mat-icon>
    </button>
    <div class="column justify-center">
      <div class="mat-h3 m-0">Player</div>
      <span *ngIf="!(bufferService.running | async)" class="mat-caption">Paused</span>
      <span *ngIf="bufferService.running | async" class="mat-caption">Running</span>
    </div>
  </div>
  <div class="row gap-10">
    <button
      mat-fab
      class="no-shadow"
      color="primary"
      *ngIf="socketService.connected$ | async"
      (click)="socketService.disconnect()">
      <mat-icon [spin]="10">sync</mat-icon>
    </button>
    <button
      mat-fab
      class="no-shadow"
      color="accent"
      *ngIf="!(socketService.connected$ | async)"
      (click)="socketService.connect()">
      <mat-icon>sync</mat-icon>
    </button>
    <div class="column justify-center">
      <div class="mat-h3 m-0">Device Connection</div>
      <span *ngIf="!(socketService.connected$ | async)" class="mat-caption">Not Connected</span>
      <span *ngIf="socketService.connected$ | async" class="mat-caption">Syncing updates</span>
    </div>
  </div>

  <div class="row gap-10 align-center">
    <button mat-icon-button matTooltip="Configure the device">
      <mat-icon
        style="font-size: 2rem"
        [inline]="true">
        settings
      </mat-icon>
    </button>
    <mat-icon
      style="font-size: 2rem"
      [inline]="true"
      [matTooltip]="(socketService.fps | async) + ' updates per second'"
      [matTooltipHideDelay]="1500">
      shutter_speed
    </mat-icon>
    <mat-slider class="p-0" thumbLabel [formControl]="fpsControl" [min]="fpsMin" [max]="fpsMax"></mat-slider>
  </div>
</dotstar-control-bar>


<!-- <div class="column p-10">
  <span class="mat-display-4">.mat-display-4</span>
  <span class="mat-display-3">.mat-display-3</span>
  <span class="mat-display-2">.mat-display-2</span>
  <span class="mat-display-1">.mat-display-1</span>
  <span class="mat-h1">.mat-h1</span>
  <span class="mat-h2">.mat-h2</span>
  <span class="mat-h3">.mat-h3</span>
  <span class="mat-h4">.mat-h4</span>
  <span class="mat-body">.mat-body</span>
  <span class="mat-body-string">.mat-body-string</span>
  <span class="mat-caption">.mat-caption</span>
</div> -->
